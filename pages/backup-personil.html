<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Backup Personil</title>
<style>
    body { font-family: Arial, sans-serif; background: #0a0a0a; color: #00ffff; margin:0; padding:0; display:flex; justify-content:center; align-items:center; height:100vh; }
    .card { background: rgba(15,15,25,0.95); padding:30px; border-radius:16px; width:100%; max-width:500px; box-shadow:0 0 20px #00ffff; }
    h1 { text-align:center; margin-bottom:20px; color:#00ffff; }
    label { display:block; margin:12px 0 6px; }
    input, textarea { width:100%; padding:12px; border-radius:8px; border:1px solid #00ffff; background: rgba(10,10,20,0.8); color:#00ffff; }
    button { width:100%; padding:12px; margin-top:20px; border:none; border-radius:8px; background:#00ffff; color:#000; font-weight:bold; cursor:pointer; }
    .alert { display:none; padding:10px; border-radius:8px; margin-top:15px; text-align:center; font-weight:bold; }
    .success { background:#00ff66; color:#000; }
    .error { background:#ff0066; color:#fff; }
</style>
</head>
<body>

<div class="card">
    <h1>Form Backup Personil</h1>

    <div id="alertSuccess" class="alert success">✅ Data tersimpan!</div>
    <div id="alertError" class="alert error">⚠️ Gagal menyimpan data</div>

    <form id="formBackup">
        <label>Nama *</label>
        <input type="text" id="nama" name="nama" required>

        <label>Tanggal Backup *</label>
        <input type="date" id="tanggalBackup" name="tanggalBackup" required>

        <label>Backup Unit *</label>
        <input type="text" id="backupUnit" name="backupUnit" required>

        <label>Backup Personil *</label>
        <input type="text" id="backupPersonil" name="backupPersonil" required>

        <label>Shift Backup *</label>
        <input type="text" id="shiftBackup" name="shiftBackup" required>

        <label>Keterangan Backup *</label>
        <textarea id="keteranganBackup" name="keteranganBackup" required></textarea>

        <label>Mengetahui *</label>
        <input type="text" id="mengetahui" name="mengetahui" required>

        <button type="submit">Kirim Data</button>
    </form>
</div>

<script>
const GS_URL = "https://script.google.com/macros/s/AKfycbxhMzwg7or1DLLXexCgpUAZwh1IzqBZK1LRAAWoHeV7Qi6z1jFCl0IkVnExvEaLFbe-/exec";

const form = document.getElementById('formBackup');
const alertSuccess = document.getElementById('alertSuccess');
const alertError = document.getElementById('alertError');

form.addEventListener('submit', async function(e){
    e.preventDefault();

    alertSuccess.style.display = 'none';
    alertError.style.display = 'none';

    const data = {
        nama: document.getElementById('nama').value.trim(),
        tanggalBackup: document.getElementById('tanggalBackup').value,
        backupUnit: document.getElementById('backupUnit').value.trim(),
        backupPersonil: document.getElementById('backupPersonil').value.trim(),
        shiftBackup: document.getElementById('shiftBackup').value.trim(),
        keteranganBackup: document.getElementById('keteranganBackup').value.trim(),
        mengetahui: document.getElementById('mengetahui').value.trim()
    };

    try {
        const res = await fetch(GS_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
        });
        const result = await res.json();
        if(result.status === "success"){
            alertSuccess.style.display = 'block';
            form.reset();
            setTimeout(()=> alertSuccess.style.display='none',3000);
        } else {
            alertError.style.display = 'block';
        }
    } catch(err){
        alertError.style.display = 'block';
    }
});
</script>

</body>
</html>
